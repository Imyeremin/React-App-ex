{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { deleteRecord, getRecords, addRecord, updateRecord } from \"../api\";\nconst fetchRecords = createAsyncThunk(\"api/getRecords\", async () => {\n  return getRecords();\n});\nconst fethDeleteRecord = createAsyncThunk(\"api/deleteRecord\", async recordId => {\n  return deleteRecord(recordId);\n});\nconst fetchUpdateRecord = createAsyncThunk(\"api/updateBook\", async (book, thunkApi) => {\n  return updateRecord(book.id, book);\n});\nconst fetchAddRecord = createAsyncThunk(\"api/addRecord\", async recordId => {\n  return addRecord(recordId);\n});\nconst recordSlise = createSlice({\n  name: \"record\",\n  initialState: {\n    records: [{\n      id: \"1\",\n      dateTime: \"20.12.2024 13:30\",\n      nameTel: \"Илья 89105027873\",\n      auto: \"Toyota Camry 2013\",\n      description: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur odio reprehenderit quod aliquam quaerat nisi. Commodi velit, ullam soluta labore ratione mollitia fugit quos vero corrupti sunt obcaecati aut sit!\"\n    }]\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchRecords.fulfilled, (state, action) => {\n      state.records = [...action.payload];\n    });\n    builder.addCase(fethDeleteRecord.fulfilled, (state, action) => {\n      state.records = state.records.filter(x => x.id !== action.payload.id);\n    });\n    builder.addCase(fetchAddRecord.fulfilled, (state, action) => {\n      console.log(action.payload);\n      state.records.push(action.payload);\n    });\n    builder.addCase(fetchUpdateRecord.fulfilled, (state, action) => {\n      const idx = state.records.findIndex(x => x.id === action.payload.id);\n      state.records[idx] = {\n        ...action.payload\n      };\n    });\n  }\n});\nexport { fetchRecords, fethDeleteRecord, fetchAddRecord, fetchUpdateRecord };\nexport default recordSlise.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","deleteRecord","getRecords","addRecord","updateRecord","fetchRecords","fethDeleteRecord","recordId","fetchUpdateRecord","book","thunkApi","id","fetchAddRecord","recordSlise","name","initialState","records","dateTime","nameTel","auto","description","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","filter","x","console","log","push","idx","findIndex","reducer"],"sources":["C:/Users/user/Desktop/Новая папка/exam-react/src/store/recordSlise.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport { deleteRecord, getRecords, addRecord, updateRecord } from \"../api\";\r\n\r\nconst fetchRecords = createAsyncThunk(\"api/getRecords\", async () => {\r\n  return getRecords();\r\n});\r\n\r\nconst fethDeleteRecord = createAsyncThunk(\r\n  \"api/deleteRecord\",\r\n  async (recordId) => {\r\n    return deleteRecord(recordId);\r\n  }\r\n);\r\nconst fetchUpdateRecord = createAsyncThunk(\r\n  \"api/updateBook\",\r\n  async (book, thunkApi) => {\r\n     return updateRecord(book.id, book);\r\n  }\r\n);\r\n\r\nconst fetchAddRecord = createAsyncThunk(\"api/addRecord\", async (recordId) => {\r\n  return addRecord(recordId);\r\n});\r\n\r\nconst recordSlise = createSlice({\r\n  name: \"record\",\r\n  initialState: {\r\n    records: [\r\n      {\r\n        id: \"1\",\r\n        dateTime: \"20.12.2024 13:30\",\r\n        nameTel: \"Илья 89105027873\",\r\n        auto: \"Toyota Camry 2013\",\r\n        description:\r\n          \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur odio reprehenderit quod aliquam quaerat nisi. Commodi velit, ullam soluta labore ratione mollitia fugit quos vero corrupti sunt obcaecati aut sit!\",\r\n      },\r\n    ],\r\n  },\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    builder.addCase(fetchRecords.fulfilled, (state, action) => {\r\n      state.records = [...action.payload];\r\n    });\r\n    builder.addCase(fethDeleteRecord.fulfilled, (state, action) => {\r\n      state.records = state.records.filter((x) => x.id !== action.payload.id);\r\n    });\r\n    builder.addCase(fetchAddRecord.fulfilled, (state, action) => {\r\n      console.log(action.payload);\r\n      state.records.push(action.payload);\r\n    });\r\n    builder.addCase(fetchUpdateRecord.fulfilled, (state, action) => {\r\n      const idx = state.records.findIndex((x) => x.id === action.payload.id);\r\n      state.records[idx] = { ...action.payload };\r\n    });\r\n  },\r\n});\r\n\r\nexport { fetchRecords, fethDeleteRecord, fetchAddRecord, fetchUpdateRecord };\r\n\r\nexport default recordSlise.reducer;\r\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,SAASC,YAAY,EAAEC,UAAU,EAAEC,SAAS,EAAEC,YAAY,QAAQ,QAAQ;AAE1E,MAAMC,YAAY,GAAGN,gBAAgB,CAAC,gBAAgB,EAAE,YAAY;EAClE,OAAOG,UAAU,CAAC,CAAC;AACrB,CAAC,CAAC;AAEF,MAAMI,gBAAgB,GAAGP,gBAAgB,CACvC,kBAAkB,EAClB,MAAOQ,QAAQ,IAAK;EAClB,OAAON,YAAY,CAACM,QAAQ,CAAC;AAC/B,CACF,CAAC;AACD,MAAMC,iBAAiB,GAAGT,gBAAgB,CACxC,gBAAgB,EAChB,OAAOU,IAAI,EAAEC,QAAQ,KAAK;EACvB,OAAON,YAAY,CAACK,IAAI,CAACE,EAAE,EAAEF,IAAI,CAAC;AACrC,CACF,CAAC;AAED,MAAMG,cAAc,GAAGb,gBAAgB,CAAC,eAAe,EAAE,MAAOQ,QAAQ,IAAK;EAC3E,OAAOJ,SAAS,CAACI,QAAQ,CAAC;AAC5B,CAAC,CAAC;AAEF,MAAMM,WAAW,GAAGb,WAAW,CAAC;EAC9Bc,IAAI,EAAE,QAAQ;EACdC,YAAY,EAAE;IACZC,OAAO,EAAE,CACP;MACEL,EAAE,EAAE,GAAG;MACPM,QAAQ,EAAE,kBAAkB;MAC5BC,OAAO,EAAE,kBAAkB;MAC3BC,IAAI,EAAE,mBAAmB;MACzBC,WAAW,EACT;IACJ,CAAC;EAEL,CAAC;EACDC,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CAACC,OAAO,CAACnB,YAAY,CAACoB,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MACzDD,KAAK,CAACV,OAAO,GAAG,CAAC,GAAGW,MAAM,CAACC,OAAO,CAAC;IACrC,CAAC,CAAC;IACFL,OAAO,CAACC,OAAO,CAAClB,gBAAgB,CAACmB,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC7DD,KAAK,CAACV,OAAO,GAAGU,KAAK,CAACV,OAAO,CAACa,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACnB,EAAE,KAAKgB,MAAM,CAACC,OAAO,CAACjB,EAAE,CAAC;IACzE,CAAC,CAAC;IACFY,OAAO,CAACC,OAAO,CAACZ,cAAc,CAACa,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC3DI,OAAO,CAACC,GAAG,CAACL,MAAM,CAACC,OAAO,CAAC;MAC3BF,KAAK,CAACV,OAAO,CAACiB,IAAI,CAACN,MAAM,CAACC,OAAO,CAAC;IACpC,CAAC,CAAC;IACFL,OAAO,CAACC,OAAO,CAAChB,iBAAiB,CAACiB,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC9D,MAAMO,GAAG,GAAGR,KAAK,CAACV,OAAO,CAACmB,SAAS,CAAEL,CAAC,IAAKA,CAAC,CAACnB,EAAE,KAAKgB,MAAM,CAACC,OAAO,CAACjB,EAAE,CAAC;MACtEe,KAAK,CAACV,OAAO,CAACkB,GAAG,CAAC,GAAG;QAAE,GAAGP,MAAM,CAACC;MAAQ,CAAC;IAC5C,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;AAEF,SAASvB,YAAY,EAAEC,gBAAgB,EAAEM,cAAc,EAAEJ,iBAAiB;AAE1E,eAAeK,WAAW,CAACuB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}